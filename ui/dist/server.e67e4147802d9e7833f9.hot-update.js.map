{"version":3,"sources":["webpack:///./src/IssueFilter.jsx"],"names":["IssueFilter","React","Component","constructor","location","search","params","URLSearchParams","state","status","get","effortMin","effortMax","changed","onChangeStatus","bind","onChangeEffortMin","onChangeEffortMax","applyFilter","showOriginalFilter","componentDidUpdate","prevProps","prevSearch","props","e","setState","target","value","effortString","match","history","urlBase","set","toString","push","pathname","render","withRouter"],"mappings":"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","file":"server.e67e4147802d9e7833f9.hot-update.js","sourcesContent":["import React from 'react';\nimport URLSearchParams from 'url-search-params';\nimport { withRouter } from 'react-router-dom';\nimport {\n    ButtonToolbar, Button, FormGroup, FormControl, ControlLabel, InputGroup,\n    Row, Col,\n} from 'react-bootstrap';\n\nclass IssueFilter extends React.Component {\n    constructor({ location: { search } }) {\n        super();\n        const params = new URLSearchParams(search);\n        this.state = {\n            status: params.get('status') || '',\n            effortMin: params.get('effortMin') || '',\n            effortMax: params.get('effortMax') || '',\n            changed: false,\n        };\n\n        this.onChangeStatus = this.onChangeStatus.bind(this);\n        this.onChangeEffortMin = this.onChangeEffortMin.bind(this);\n        this.onChangeEffortMax = this.onChangeEffortMax.bind(this);\n        this.applyFilter = this.applyFilter.bind(this);\n        this.showOriginalFilter = this.showOriginalFilter.bind(this);\n    }\n\n    componentDidUpdate(prevProps) {\n        const { location: { search: prevSearch } } = prevProps;\n        const { location: { search } } = this.props;\n        if (prevSearch !== search) {\n            this.showOriginalFilter();\n        }\n    }\n\n    onChangeStatus(e) {\n        this.setState({ status: e.target.value, changed: true });\n    }\n\n    onChangeEffortMin(e) {\n        const effortString = e.target.value;\n        if (effortString.match(/^\\d*$/)) {\n            this.setState({ effortMin: e.target.value, changed: true });\n        }\n    }\n\n    onChangeEffortMax(e) {\n        const effortString = e.target.value;\n        if (effortString.match(/^\\d*$/)) {\n            this.setState({ effortMax: e.target.value, changed: true });\n        }\n    }\n\n    showOriginalFilter() {\n        const { location: { search } } = this.props;\n        const params = new URLSearchParams(search);\n        this.setState({\n            status: params.get('status') || '',\n            effortMin: params.get('effortMin') || '',\n            effortMax: params.get('effortMax') || '',\n            changed: false,\n        });\n    }\n\n    applyFilter() {\n        const { status, effortMin, effortMax } = this.state;\n        const { history, urlBase } = this.props;\n        const params = new URLSearchParams();\n        if (status) params.set('status', status);\n        if (effortMin) params.set('effortMin', effortMin);\n        if (effortMax) params.set('effortMax', effortMax);\n\n        const search = params.toString() ? `?${params.toString()}` : '';\n        history.push({ pathname: urlBase, search });\n    }\n\n    render() {\n        const { status, changed } = this.state;\n        const { effortMin, effortMax } = this.state;\n        return (\n            <Row>\n                <Col xs={6} sm={4} md={3} lg={2}>\n                    <FormGroup>\n                        <ControlLabel>Status:</ControlLabel>\n                        <FormControl\n                            componentClass=\"select\"\n                            value={status}\n                            onChange={this.onChangeStatus}\n                        >\n                            <option value=\"\">(All)</option>\n                            <option value=\"New\">New</option>\n                            <option value=\"Assigned\">Assigned</option>\n                            <option value=\"Fixed\">Fixed</option>\n                            <option value=\"Closed\">Closed</option>\n                        </FormControl>\n                    </FormGroup>\n                </Col>\n                <Col xs={6} sm={4} md={3} lg={2}>\n                    <FormGroup>\n                        <ControlLabel>Effort between:</ControlLabel>\n                        <InputGroup>\n                            <FormControl value={effortMin} onChange={this.onChangeEffortMin} />\n                            <InputGroup.Addon>-</InputGroup.Addon>\n                            <FormControl value={effortMax} onChange={this.onChangeEffortMax} />\n                        </InputGroup>\n                    </FormGroup>\n                </Col>\n                <Col xs={6} sm={4} md={3} lg={2}>\n                    <FormGroup>\n                        <ControlLabel>&nbsp;</ControlLabel>\n                        <ButtonToolbar>\n                            <Button bsStyle=\"primary\" type=\"button\" onClick={this.applyFilter}>\n                                Apply\n                            </Button>\n                            <Button\n                                type=\"button\"\n                                onClick={this.showOriginalFilter}\n                                disabled={!changed}\n                            >\n                                Reset\n                            </Button>\n                        </ButtonToolbar>\n                    </FormGroup>\n                </Col>\n            </Row>\n        );\n    }\n}\n\nexport default withRouter(IssueFilter);"],"sourceRoot":""}