{"version":3,"sources":["webpack:///./src/Page.jsx"],"names":["NavBar","user","onUserChange","Footer","Page","React","Component","fetchData","cookie","query","data","graphQLFetch","constructor","props","store","userData","state","bind","componentDidMount","setState","render"],"mappings":"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","file":"server.ed4c899c4ad6a9c5582b.hot-update.js","sourcesContent":["import React from 'react';\nimport {\n    Navbar, Nav, NavItem, NavDropdown,\n    MenuItem, Glyphicon,\n    Grid, Col,\n} from 'react-bootstrap';\nimport { LinkContainer } from 'react-router-bootstrap';\n\nimport Contents from './Contents.jsx';\nimport IssueAddNavItem from './IssueAddNavItem.jsx';\nimport SignInNavItem from './SignInNavItem.jsx';\nimport Search from './Search.jsx';\nimport UserContext from './UserContext.js';\nimport graphQLFetch from './graphQLFetch.js';\nimport store from './store.js';\n\nfunction NavBar({ user, onUserChange }) {\n    return (\n        <Navbar fluid>\n            <Navbar.Header>\n                <Navbar.Brand>Issue Tracker</Navbar.Brand>\n            </Navbar.Header>\n            <Nav>\n                <LinkContainer exact to=\"/\">\n                    <NavItem>Home</NavItem>\n                </LinkContainer>\n                <LinkContainer to=\"/issues\">\n                    <NavItem>Issue List</NavItem>\n                </LinkContainer>\n                <LinkContainer to=\"/report\">\n                    <NavItem>Report</NavItem>\n                </LinkContainer>\n            </Nav>\n            <Col sm={5}>\n                <Navbar.Form>\n                    <Search />\n                </Navbar.Form>\n            </Col>\n            <Nav pullRight>\n                <IssueAddNavItem user={user} />\n                <SignInNavItem user={user} onUserChange={onUserChange} />\n                <NavDropdown\n                    id=\"user-dropdown\"\n                    title={<Glyphicon glyph=\"option-vertical\" />}\n                    noCaret\n                >\n                    <LinkContainer to=\"/about\">\n                        <MenuItem>About</MenuItem>\n                    </LinkContainer>\n                </NavDropdown>\n            </Nav>\n        </Navbar>\n    );\n}\n\nfunction Footer() {\n    return (\n        <small>\n            <hr />\n            <p className=\"text-center\">\n                Full source code available at this\n                {' '}\n                <a href=\"https://github.com/vasansr/pro-mern-stack-2\">\n                    GitHub repository\n                </a>\n            </p>\n        </small>\n    );\n}\n\nexport default class Page extends React.Component {\n    static async fetchData(cookie) {\n        const query = `query { user {\n      signedIn givenName\n    }}`;\n        const data = await graphQLFetch(query, null, null, cookie);\n        return data;\n    }\n\n    constructor(props) {\n        super(props);\n        const user = store.userData ? store.userData.user : null;\n        delete store.userData;\n        this.state = { user };\n\n        this.onUserChange = this.onUserChange.bind(this);\n    }\n\n    async componentDidMount() {\n        const { user } = this.state;\n        if (user == null) {\n            const data = await Page.fetchData();\n            this.setState({ user: data.user });\n        }\n    }\n\n    onUserChange(user) {\n        this.setState({ user });\n    }\n\n    render() {\n        const { user } = this.state;\n        if (user == null) return null;\n\n        return (\n            <div>\n                <NavBar user={user} onUserChange={this.onUserChange} />\n                <Grid fluid>\n                    <UserContext.Provider value={user}>\n                        <Contents />\n                    </UserContext.Provider>\n                </Grid>\n                <Footer />\n            </div>\n        );\n    }\n}"],"sourceRoot":""}